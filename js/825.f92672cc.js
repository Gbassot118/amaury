"use strict";(self["webpackChunkjeux_educatifs"]=self["webpackChunkjeux_educatifs"]||[]).push([[825],{8825:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});r(2010);var n=r(6768),s=r(4232),i={class:"game-container"},o={class:"instructions"},a={class:"letter-boxes"},u={key:0},c={key:1},m={key:0,class:"error-message"},h={key:1,class:"victory-message"};function l(e,t,r,l,d,f){var k=(0,n.g2)("router-link"),L=(0,n.g2)("Fireworks");return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.Lk)("h1",null,"Jeu de Lettres: "+(0,s.v_)(d.name),1),(0,n.Lk)("div",o,[(0,n.Lk)("p",null,'Tape les lettres du prénom "'+(0,s.v_)(d.name)+"\" dans l'ordre",1)]),(0,n.Lk)("div",a,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(d.name,function(e,t){return(0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,s.C4)(["letter-box",{completed:t<d.currentLetterIndex,current:t===d.currentLetterIndex,pending:t>d.currentLetterIndex}])},[t<d.currentLetterIndex||t===d.currentLetterIndex&&d.showCurrentLetter?((0,n.uX)(),(0,n.CE)("span",u,(0,s.v_)(e),1)):((0,n.uX)(),(0,n.CE)("span",c,(0,s.v_)(e),1))],2)}),128))]),d.showError?((0,n.uX)(),(0,n.CE)("div",m,[(0,n.Lk)("span",null,(0,s.v_)(d.errorLetter),1)])):(0,n.Q3)("",!0),d.gameCompleted?((0,n.uX)(),(0,n.CE)("div",h,[t[2]||(t[2]=(0,n.Lk)("h2",null,"Bravo !",-1)),(0,n.Lk)("p",null,"Tu as réussi à écrire "+(0,s.v_)(d.name)+" !",1),(0,n.Lk)("button",{onClick:t[0]||(t[0]=function(){return f.resetGame&&f.resetGame.apply(f,arguments)}),class:"reset-button"},"Rejouer"),(0,n.bF)(k,{to:"/",class:"home-button"},{default:(0,n.k6)(function(){return t[1]||(t[1]=[(0,n.eW)("Menu Principal")])}),_:1,__:[1]})])):(0,n.Q3)("",!0),d.gameCompleted?((0,n.uX)(),(0,n.Wv)(L,{key:2,ref:"fireworks",class:"fireworks-container"},null,512)):(0,n.Q3)("",!0)])}r(7495),r(906),r(6031);var d=r(4699);const f={name:"LetterGameVariant",components:{Fireworks:d.j},data:function(){return{namesList:["GUILLAUME","PAPA","ALIENOR","MAMAN","MAMINA","GRAND PERE BERTRAND","MAMOUCHKA","GRANPA","CECILE","CAMILLE","TRISTAN","MAYEUL","ELOI"],name:"",currentLetterIndex:0,showError:!1,errorLetter:"",gameCompleted:!1,showCurrentLetter:!1,fireworksTimer:null}},created:function(){var e=this;this.selectRandomName(),this.$nextTick(function(){e.skipSpaces()})},mounted:function(){window.addEventListener("keydown",this.handleKeyPress)},beforeUnmount:function(){window.removeEventListener("keydown",this.handleKeyPress)},watch:{gameCompleted:function(e){var t=this;e&&this.$nextTick(function(){t.startFireworks()})}},methods:{selectRandomName:function(){var e=Math.floor(Math.random()*this.namesList.length);this.name=this.namesList[e]},handleKeyPress:function(e){var t=this;if(!this.gameCompleted){this.skipSpaces();var r=e.key.toUpperCase();if(/^[A-Z]$/.test(r)){var n=this.name[this.currentLetterIndex];r===n?(this.showCurrentLetter=!0,setTimeout(function(){t.currentLetterIndex++,t.showCurrentLetter=!1,t.currentLetterIndex>=t.name.length?t.gameCompleted=!0:t.skipSpaces()},1)):(this.showError=!0,this.errorLetter=r,setTimeout(function(){t.showError=!1,t.errorLetter=""},1500))}}},startFireworks:function(){var e=this;if(this.$refs.fireworks){var t=this.$refs.fireworks;t.updateOptions({autoresize:!0,opacity:.5,acceleration:1.05,friction:.97,gravity:1.5,particles:50,traceLength:3,traceSpeed:10,explosion:5,intensity:30,flickering:50,lineStyle:"round",hue:{min:0,max:360},delay:{min:30,max:60},rocketsPoint:{min:50,max:50},lineWidth:{explosion:{min:1,max:3},trace:{min:1,max:2}},brightness:{min:50,max:80},decay:{min:.015,max:.03},mouse:{click:!1,move:!1,max:1}}),t.start(),this.fireworksTimer=setTimeout(function(){e.$refs.fireworks&&e.$refs.fireworks.stop()},1e4)}},skipSpaces:function(){while(this.currentLetterIndex<this.name.length&&" "===this.name[this.currentLetterIndex])this.currentLetterIndex++},resetGame:function(){this.$refs.fireworks&&this.$refs.fireworks.stop(),this.fireworksTimer&&(clearTimeout(this.fireworksTimer),this.fireworksTimer=null),this.selectRandomName(),this.currentLetterIndex=0,this.showError=!1,this.errorLetter="",this.gameCompleted=!1,this.showCurrentLetter=!1,this.skipSpaces()}}};var k=r(1241);const L=(0,k.A)(f,[["render",l],["__scopeId","data-v-0462829c"]]),p=L}}]);
//# sourceMappingURL=825.f92672cc.js.map