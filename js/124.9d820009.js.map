{"version":3,"file":"js/124.9d820009.js","mappings":"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","sources":["webpack://jeux-educatifs/./src/views/Game9.vue","webpack://jeux-educatifs/./src/views/Game9.vue?caba"],"sourcesContent":["<template>\n  <div class=\"game-container\">\n    <h1>Le Marché Magique</h1>\n\n    <div class=\"instructions\">\n      <p>Aide le client à faire ses courses en plaçant les bons fruits et légumes sur le tapis de caisse</p>\n    </div>\n\n    <div class=\"game-area\">\n      <!-- Customer with shopping list -->\n      <div class=\"customer-container\">\n        <div class=\"customer\">\n          {{ currentCustomer.icon }}\n        </div>\n        <div class=\"shopping-list\">\n          <h3>Liste de courses</h3>\n          <div class=\"shopping-items\">\n            <div v-for=\"(item, index) in currentLevel.shoppingList\" :key=\"index\" class=\"shopping-item\">\n              <div class=\"item-icon\">{{ item.icon }}</div>\n              <div class=\"item-quantity\">{{ item.quantity }}</div>\n              <div class=\"item-counter\">{{ getItemCount(item.type) }}/{{ item.quantity }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Checkout area (drop zone) -->\n      <div \n        class=\"checkout-container\"\n        @dragover.prevent\n        @drop=\"dropItem($event)\"\n      >\n        <h3 class=\"container-title\">Tapis de caisse</h3>\n        <div class=\"checkout-area\">\n          <div \n            v-for=\"item in placedItems\" \n            :key=\"item.id\" \n            class=\"item-in-checkout\"\n            :style=\"{ \n              position: 'absolute', \n              left: item.position.x + 'px', \n              top: item.position.y + 'px' \n            }\"\n          >\n            {{ item.icon }}\n          </div>\n        </div>\n      </div>\n\n      <!-- Market stall (source) -->\n      <div class=\"container-wrapper stall-wrapper\">\n        <h3 class=\"container-title\">Étalage du marché</h3>\n        <div class=\"stall-container\">\n          <div \n            v-for=\"(item, index) in marketItems\" \n            :key=\"index\"\n            class=\"market-item\"\n            :class=\"{ 'placed': item.placed }\"\n            draggable=\"true\"\n            @dragstart=\"dragStart($event, item)\"\n            v-show=\"!item.placed\"\n            :style=\"{ \n              position: 'absolute', \n              left: item.stallPosition.x + 'px', \n              top: item.stallPosition.y + 'px'\n            }\"\n          >\n            {{ item.icon }}\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"showFeedback\" class=\"feedback-message\" :class=\"{ 'success': feedbackSuccess }\">\n      <p>{{ feedbackMessage }}</p>\n    </div>\n\n    <div v-if=\"levelCompleted\" class=\"level-complete-message\">\n      <h2>Bravo !</h2>\n      <p>Tu as bien rempli la commande du client !</p>\n      <button @click=\"nextLevel\" class=\"next-button\">Client suivant</button>\n    </div>\n\n    <div v-if=\"gameCompleted\" class=\"victory-message\">\n      <h2>Félicitations !</h2>\n      <p>Tu es devenu un Super Marchand ! 🏅</p>\n      <p>Tu as servi tous les clients du Marché Magique !</p>\n      <button @click=\"resetGame\" class=\"reset-button\">Rejouer</button>\n      <router-link to=\"/\" class=\"home-button\">Menu Principal</router-link>\n    </div>\n\n    <Fireworks v-if=\"gameCompleted\" ref=\"fireworks\" class=\"fireworks-container\" />\n  </div>\n</template>\n\n<script>\nimport { Fireworks } from '@fireworks-js/vue'\n\nexport default {\n  name: 'MagicMarketGame',\n  components: {\n    Fireworks\n  },\n  data() {\n    return {\n      currentLevel: null,\n      currentLevelIndex: 0,\n      levels: [\n        // Level 1: 1 type of item, quantity 1-3\n        {\n          shoppingList: [\n            { type: 'carrot', icon: '🥕', quantity: 2 }\n          ]\n        },\n        // Level 2: 1 type of item, quantity 1-3\n        {\n          shoppingList: [\n            { type: 'apple', icon: '🍎', quantity: 3 }\n          ]\n        },\n        // Level 3: 2 types of items, quantity 1-3\n        {\n          shoppingList: [\n            { type: 'banana', icon: '🍌', quantity: 1 },\n            { type: 'tomato', icon: '🍅', quantity: 2 }\n          ]\n        },\n        // Level 4: 2 types of items, quantity 1-3\n        {\n          shoppingList: [\n            { type: 'lemon', icon: '🍋', quantity: 3 },\n            { type: 'strawberry', icon: '🍓', quantity: 2 }\n          ]\n        },\n        // Level 5: 2 types of items, quantity 1-5\n        {\n          shoppingList: [\n            { type: 'carrot', icon: '🥕', quantity: 4 },\n            { type: 'apple', icon: '🍎', quantity: 3 }\n          ]\n        },\n        // Level 6: 3 types of items, quantity 1-5\n        {\n          shoppingList: [\n            { type: 'banana', icon: '🍌', quantity: 2 },\n            { type: 'tomato', icon: '🍅', quantity: 3 },\n            { type: 'lemon', icon: '🍋', quantity: 1 }\n          ]\n        },\n        // Level 7: 3 types of items, quantity 1-5\n        {\n          shoppingList: [\n            { type: 'strawberry', icon: '🍓', quantity: 4 },\n            { type: 'carrot', icon: '🥕', quantity: 2 },\n            { type: 'apple', icon: '🍎', quantity: 3 }\n          ]\n        },\n        // Level 8: 3 types of items, quantity 1-7\n        {\n          shoppingList: [\n            { type: 'banana', icon: '🍌', quantity: 5 },\n            { type: 'tomato', icon: '🍅', quantity: 3 },\n            { type: 'lemon', icon: '🍋', quantity: 4 }\n          ]\n        },\n        // Level 9: 4 types of items, quantity 1-7\n        {\n          shoppingList: [\n            { type: 'strawberry', icon: '🍓', quantity: 6 },\n            { type: 'carrot', icon: '🥕', quantity: 3 },\n            { type: 'apple', icon: '🍎', quantity: 4 },\n            { type: 'banana', icon: '🍌', quantity: 2 }\n          ]\n        },\n        // Level 10: 4 types of items, quantity 1-10\n        {\n          shoppingList: [\n            { type: 'tomato', icon: '🍅', quantity: 7 },\n            { type: 'lemon', icon: '🍋', quantity: 5 },\n            { type: 'strawberry', icon: '🍓', quantity: 8 },\n            { type: 'carrot', icon: '🥕', quantity: 4 }\n          ]\n        }\n      ],\n      customers: [\n        { icon: '🐰', name: 'Lapin' },\n        { icon: '🦊', name: 'Renard' },\n        { icon: '🐸', name: 'Grenouille' },\n        { icon: '🦁', name: 'Lion' },\n        { icon: '🐻', name: 'Ours' },\n        { icon: '🐼', name: 'Panda' },\n        { icon: '🦄', name: 'Licorne' },\n        { icon: '🐢', name: 'Tortue' },\n        { icon: '🦉', name: 'Hibou' },\n        { icon: '🐿️', name: 'Écureuil' }\n      ],\n      currentCustomer: null,\n      marketItems: [],\n      placedItems: [],\n      currentDraggedItem: null,\n      levelCompleted: false,\n      gameCompleted: false,\n      fireworksTimer: null,\n      showFeedback: false,\n      feedbackMessage: '',\n      feedbackSuccess: false,\n      feedbackTimer: null,\n      itemTypes: [\n        { type: 'carrot', icon: '🥕' },\n        { type: 'apple', icon: '🍎' },\n        { type: 'banana', icon: '🍌' },\n        { type: 'tomato', icon: '🍅' },\n        { type: 'lemon', icon: '🍋' },\n        { type: 'strawberry', icon: '🍓' }\n      ]\n    }\n  },\n  created() {\n    this.initializeGame();\n  },\n  mounted() {\n    // Add document-level dragend event to handle drops outside checkout\n    document.addEventListener('dragend', this.handleDragEnd);\n  },\n  beforeUnmount() {\n    // Clean up event listeners and timers\n    document.removeEventListener('dragend', this.handleDragEnd);\n\n    if (this.fireworksTimer) {\n      clearTimeout(this.fireworksTimer);\n    }\n\n    if (this.feedbackTimer) {\n      clearTimeout(this.feedbackTimer);\n    }\n  },\n  methods: {\n    initializeGame() {\n      this.currentLevelIndex = 0;\n      this.loadLevel();\n      this.gameCompleted = false;\n    },\n\n    loadLevel() {\n      this.currentLevel = this.levels[this.currentLevelIndex];\n      this.currentCustomer = this.customers[this.currentLevelIndex];\n      this.levelCompleted = false;\n      this.placedItems = [];\n      this.generateMarketItems();\n    },\n\n    generateMarketItems() {\n      // Create market items\n      this.marketItems = [];\n      let id = 0;\n\n      // Define the minimum distance between items (based on font size)\n      const itemSize = 30; // font-size of market-item\n      const minDistance = itemSize + 5; // Add some padding\n\n      // Helper function to check if a position would overlap with existing items\n      const wouldOverlap = (x, y, existingItems) => {\n        for (const item of existingItems) {\n          const dx = Math.abs(item.stallPosition.x - x);\n          const dy = Math.abs(item.stallPosition.y - y);\n          // Calculate the distance between centers\n          const distance = Math.sqrt(dx * dx + dy * dy);\n          if (distance < minDistance) {\n            return true; // Would overlap\n          }\n        }\n        return false; // No overlap\n      };\n\n      // Helper function to generate a non-overlapping position\n      const generateNonOverlappingPosition = (existingItems) => {\n        // Get stall container dimensions\n        const maxX = 300 - itemSize;\n        const maxY = 150 - itemSize;\n\n        // Try to find a non-overlapping position (max 50 attempts)\n        let attempts = 0;\n        let x, y;\n        do {\n          x = Math.floor(Math.random() * maxX);\n          y = Math.floor(Math.random() * maxY);\n          attempts++;\n        } while (wouldOverlap(x, y, existingItems) && attempts < 50);\n\n        return { x, y };\n      };\n\n      // Add items from the shopping list with the exact quantities needed\n      this.currentLevel.shoppingList.forEach(shoppingItem => {\n        for (let i = 0; i < shoppingItem.quantity; i++) {\n          // Generate non-overlapping position\n          const position = generateNonOverlappingPosition(this.marketItems);\n\n          this.marketItems.push({\n            id: id++,\n            type: shoppingItem.type,\n            icon: shoppingItem.icon,\n            placed: false,\n            position: { x: 0, y: 0 },\n            stallPosition: position\n          });\n        }\n      });\n\n      // Add some extra items (distractors)\n      const extraItemCount = 10; // Add 10 extra items\n      for (let i = 0; i < extraItemCount; i++) {\n        const randomItemType = this.itemTypes[Math.floor(Math.random() * this.itemTypes.length)];\n        // Generate non-overlapping position\n        const position = generateNonOverlappingPosition(this.marketItems);\n\n        this.marketItems.push({\n          id: id++,\n          type: randomItemType.type,\n          icon: randomItemType.icon,\n          placed: false,\n          position: { x: 0, y: 0 },\n          stallPosition: position\n        });\n      }\n\n      // Shuffle the market items\n      this.marketItems = this.shuffleArray(this.marketItems);\n    },\n\n    shuffleArray(array) {\n      const newArray = [...array];\n      for (let i = newArray.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];\n      }\n      return newArray;\n    },\n\n    dragStart(event, item) {\n      this.currentDraggedItem = item;\n      event.dataTransfer.setData('text/plain', item.id);\n    },\n\n    dropItem(event) {\n      event.preventDefault();\n\n      if (!this.currentDraggedItem || this.currentDraggedItem.placed || this.levelCompleted) {\n        return;\n      }\n\n      // Calculate position relative to the checkout area\n      const checkoutRect = event.currentTarget.getBoundingClientRect();\n      // Adjust position to center the item on the cursor\n      // The market items are 30px in size (font-size: 30px)\n      const itemSize = 30;\n      const x = event.clientX - checkoutRect.left - (itemSize / 2);\n      const y = event.clientY - checkoutRect.top - (itemSize / 2);\n\n      // Check if this item is needed for the shopping list\n      const shoppingItem = this.currentLevel.shoppingList.find(item => item.type === this.currentDraggedItem.type);\n\n      if (shoppingItem) {\n        const currentCount = this.getItemCount(this.currentDraggedItem.type);\n\n        if (currentCount < shoppingItem.quantity) {\n          // Place the item in the checkout with position\n          this.currentDraggedItem.placed = true;\n          this.currentDraggedItem.position = { x, y };\n          this.placedItems.push({ ...this.currentDraggedItem });\n\n          // Check if the shopping list is complete\n          if (this.isShoppingListComplete()) {\n            // Success! Show positive feedback\n            this.showSuccessFeedback();\n\n            // Complete the level after a delay\n            setTimeout(() => {\n              this.levelCompleted = true;\n\n              // If this was the last level, complete the game\n              if (this.currentLevelIndex === this.levels.length - 1) {\n                setTimeout(() => {\n                  this.gameCompleted = true;\n                  this.$nextTick(() => {\n                    this.startFireworks();\n                  });\n                }, 2000);\n              }\n            }, 1000);\n          }\n        } else {\n          // Too many of this item! Show error feedback\n          this.showErrorFeedback(\"Tu as déjà assez de \" + this.getItemName(this.currentDraggedItem.type) + \"!\");\n          return;\n        }\n      } else {\n        // Item not in shopping list! Show error feedback\n        this.showErrorFeedback(\"Ce n'est pas ce que le client a demandé!\");\n        return;\n      }\n    },\n\n    handleDragEnd() {\n      this.currentDraggedItem = null;\n    },\n\n    getItemCount(type) {\n      return this.placedItems.filter(item => item.type === type).length;\n    },\n\n    getItemName(type) {\n      switch(type) {\n        case 'carrot': return 'carottes';\n        case 'apple': return 'pommes';\n        case 'banana': return 'bananes';\n        case 'tomato': return 'tomates';\n        case 'lemon': return 'citrons';\n        case 'strawberry': return 'fraises';\n        default: return type;\n      }\n    },\n\n    isShoppingListComplete() {\n      return this.currentLevel.shoppingList.every(item => \n        this.getItemCount(item.type) === item.quantity\n      );\n    },\n\n    showSuccessFeedback() {\n      this.feedbackSuccess = true;\n      this.feedbackMessage = 'Bravo ! Tu as bien rempli la commande !';\n      this.showFeedback = true;\n\n      // Clear any existing feedback timer\n      if (this.feedbackTimer) {\n        clearTimeout(this.feedbackTimer);\n      }\n\n      // Hide feedback after 2 seconds\n      this.feedbackTimer = setTimeout(() => {\n        this.showFeedback = false;\n      }, 2000);\n    },\n\n    showErrorFeedback(message) {\n      this.feedbackSuccess = false;\n      this.feedbackMessage = message;\n      this.showFeedback = true;\n\n      // Clear any existing feedback timer\n      if (this.feedbackTimer) {\n        clearTimeout(this.feedbackTimer);\n      }\n\n      // Hide feedback after 2 seconds\n      this.feedbackTimer = setTimeout(() => {\n        this.showFeedback = false;\n      }, 2000);\n    },\n\n    nextLevel() {\n      this.currentLevelIndex++;\n      this.loadLevel();\n    },\n\n\n    startFireworks() {\n      if (this.$refs.fireworks) {\n        const fireworks = this.$refs.fireworks;\n        fireworks.updateOptions({\n          autoresize: true,\n          opacity: 0.5,\n          acceleration: 1.05,\n          friction: 0.97,\n          gravity: 1.5,\n          particles: 50,\n          traceLength: 3,\n          traceSpeed: 10,\n          explosion: 5,\n          intensity: 30,\n          flickering: 50,\n          lineStyle: 'round',\n          hue: {\n            min: 0,\n            max: 360\n          },\n          delay: {\n            min: 30,\n            max: 60\n          },\n          rocketsPoint: {\n            min: 50,\n            max: 50\n          },\n          lineWidth: {\n            explosion: {\n              min: 1,\n              max: 3\n            },\n            trace: {\n              min: 1,\n              max: 2\n            }\n          },\n          brightness: {\n            min: 50,\n            max: 80\n          },\n          decay: {\n            min: 0.015,\n            max: 0.03\n          },\n          mouse: {\n            click: false,\n            move: false,\n            max: 1\n          }\n        });\n        fireworks.start();\n\n        // Stop fireworks after 10 seconds\n        this.fireworksTimer = setTimeout(() => {\n          if (this.$refs.fireworks) {\n            this.$refs.fireworks.stop();\n          }\n        }, 10000);\n      }\n    },\n\n    resetGame() {\n      if (this.$refs.fireworks) {\n        this.$refs.fireworks.stop();\n      }\n\n      // Clear the fireworks timer if it exists\n      if (this.fireworksTimer) {\n        clearTimeout(this.fireworksTimer);\n        this.fireworksTimer = null;\n      }\n\n      this.initializeGame();\n    }\n  }\n}\n</script>\n\n<style scoped>\n.game-container {\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\nh1 {\n  color: #42b983;\n  margin-bottom: 30px;\n}\n\n.instructions {\n  margin-bottom: 40px;\n  font-size: 20px;\n}\n\n.game-area {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 20px;\n}\n\n.customer-container {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  margin-bottom: 20px;\n  background-color: #f5f5f5;\n  border-radius: 10px;\n  padding: 15px;\n  border: 2px solid #42b983;\n  /* Ensure this spans the full width */\n  flex-basis: 100%;\n}\n\n.customer {\n  font-size: 60px;\n  margin-right: 20px;\n}\n\n.shopping-list {\n  flex-grow: 1;\n}\n\n.shopping-list h3 {\n  color: #42b983;\n  margin-bottom: 10px;\n}\n\n.shopping-items {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 15px;\n}\n\n.shopping-item {\n  display: flex;\n  align-items: center;\n  background-color: white;\n  padding: 10px;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.item-icon {\n  font-size: 24px;\n  margin-right: 8px;\n}\n\n.item-quantity {\n  font-size: 20px;\n  font-weight: bold;\n  margin-right: 8px;\n}\n\n.item-counter {\n  font-size: 14px;\n  color: #42b983;\n}\n\n.checkout-container {\n  width: 48%;\n  margin-bottom: 20px;\n}\n\n.checkout-area {\n  height: 200px;\n  border: 3px solid #42b983;\n  border-radius: 10px;\n  background-color: #d7f7e8;\n  position: relative;\n  overflow: hidden;\n}\n\n.container-wrapper {\n  /* Width is now controlled by specific wrapper classes */\n}\n\n.stall-wrapper {\n  width: 48%;\n  margin-bottom: 20px;\n}\n\n.stall-container {\n  height: 200px;\n  border: 3px solid #42b983;\n  border-radius: 10px;\n  background-color: #f5f5f5;\n  position: relative;\n  overflow: hidden;\n}\n\n.market-item {\n  font-size: 30px;\n  cursor: grab;\n  user-select: none;\n  z-index: 10;\n}\n\n.item-in-checkout {\n  font-size: 30px;\n  position: absolute;\n  z-index: 5;\n}\n\n.container-title {\n  margin-bottom: 10px;\n  color: #42b983;\n}\n\n.feedback-message {\n  padding: 15px;\n  border-radius: 10px;\n  margin: 20px 0;\n  text-align: center;\n  font-size: 20px;\n  animation: fadeIn 0.5s;\n}\n\n.feedback-message.success {\n  background-color: #d7f7e8;\n  color: #42b983;\n}\n\n.feedback-message:not(.success) {\n  background-color: #ffe6e6;\n  color: #ff6b6b;\n}\n\n.level-complete-message, .victory-message {\n  margin-top: 40px;\n  padding: 20px;\n  background-color: #d7f7e8;\n  border-radius: 10px;\n  animation: fadeIn 1s;\n  text-align: center;\n}\n\n.level-complete-message h2, .victory-message h2 {\n  color: #42b983;\n  font-size: 36px;\n  margin-bottom: 10px;\n}\n\n.next-button, .reset-button, .home-button {\n  background-color: #42b983;\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 5px;\n  cursor: pointer;\n  font-size: 16px;\n  margin: 10px;\n  display: inline-block;\n  text-decoration: none;\n}\n\n.next-button:hover, .reset-button:hover, .home-button:hover {\n  background-color: #3aa876;\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n.fireworks-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 10;\n  pointer-events: none;\n}\n</style>\n","import { render } from \"./Game9.vue?vue&type=template&id=98fe2e68&scoped=true\"\nimport script from \"./Game9.vue?vue&type=script&lang=js\"\nexport * from \"./Game9.vue?vue&type=script&lang=js\"\n\nimport \"./Game9.vue?vue&type=style&index=0&id=98fe2e68&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-98fe2e68\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$data","currentCustomer","icon","_hoisted_5","_hoisted_6","_Fragment","_renderList","currentLevel","shoppingList","item","index","key","_hoisted_7","_hoisted_8","quantity","_hoisted_9","$options","getItemCount","type","onDragover","_cache","_withModifiers","onDrop","$event","dropItem","_hoisted_10","placedItems","id","style","_normalizeStyle","position","x","y","_hoisted_11","_hoisted_12","marketItems","_normalizeClass","placed","draggable","onDragstart","dragStart","stallPosition","_hoisted_13","showFeedback","feedbackSuccess","feedbackMessage","levelCompleted","_hoisted_14","onClick","nextLevel","apply","arguments","gameCompleted","_hoisted_15","resetGame","_createVNode","_component_router_link","to","_createBlock","_component_Fireworks","ref","name","components","Fireworks","data","currentLevelIndex","levels","customers","currentDraggedItem","fireworksTimer","feedbackTimer","itemTypes","created","this","initializeGame","mounted","document","addEventListener","handleDragEnd","beforeUnmount","removeEventListener","clearTimeout","methods","loadLevel","generateMarketItems","_this","itemSize","minDistance","wouldOverlap","existingItems","_step","_iterator","_createForOfIteratorHelper","s","n","done","value","dx","Math","abs","dy","distance","sqrt","err","e","f","generateNonOverlappingPosition","maxX","maxY","attempts","floor","random","forEach","shoppingItem","i","push","extraItemCount","randomItemType","length","shuffleArray","array","newArray","_toConsumableArray","j","_ref","event","dataTransfer","setData","_this2","preventDefault","checkoutRect","currentTarget","getBoundingClientRect","clientX","left","clientY","top","find","currentCount","_objectSpread","isShoppingListComplete","showSuccessFeedback","setTimeout","$nextTick","startFireworks","showErrorFeedback","getItemName","filter","_this3","every","_this4","message","_this5","_this6","$refs","fireworks","updateOptions","autoresize","opacity","acceleration","friction","gravity","particles","traceLength","traceSpeed","explosion","intensity","flickering","lineStyle","hue","min","max","delay","rocketsPoint","lineWidth","trace","brightness","decay","mouse","click","move","start","stop","__exports__","render"],"sourceRoot":""}